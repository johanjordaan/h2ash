// Generated by CoffeeScript 1.6.3
(function() {
  define(['angular'], function(angular) {
    return function($document) {
      return function(scope, element, attr) {
        var mousemove, mouseup, startX, startY, x, y;
        startX = 0;
        startY = 0;
        x = 0;
        y = 0;
        angular.element(element.context.parentNode).css({
          position: 'relative',
          cursor: 'pointer'
        });
        element.on('mousedown', function(event) {
          event.preventDefault();
          startX = event.pageX - x;
          startY = event.pageY - y;
          $document.on('mousemove', mousemove);
          return $document.on('mouseup', mouseup);
        });
        mousemove = function(event) {
          y = event.pageY - startY;
          x = event.pageX - startX;
          return angular.element(element.context.parentNode).css({
            top: y + 'px',
            left: x + 'px'
          });
        };
        return mouseup = function() {
          $document.unbind('mousemove', mousemove);
          return $document.unbind('mouseup', mouseup);
        };
      };
    };
  });

}).call(this);
