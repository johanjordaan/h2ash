// Generated by CoffeeScript 1.6.3
(function() {
  define(['angular'], function(angular) {
    return function($document) {
      return function(scope, element, attr) {
        var mousemove, mouseup, x, xOffset, y, yOffset;
        xOffset = yOffset = 0;
        x = 0;
        y = 0;
        angular.element(element.context.parentNode.parentNode.parentNode.parentNode).css({
          position: 'relative',
          cursor: 'pointer'
        });
        element.on('mousedown', function(event) {
          event.preventDefault();
          xOffset = event.offsetX;
          yOffset = event.offsetY;
          $document.on('mousemove', mousemove);
          return $document.on('mouseup', mouseup);
        });
        mousemove = function(event) {
          x = event.pageX - xOffset;
          y = event.pageY - yOffset;
          return angular.element(element.context.parentNode.parentNode.parentNode.parentNode).css({
            top: y + 'px',
            left: x + 'px'
          });
        };
        return mouseup = function() {
          $document.unbind('mousemove', mousemove);
          return $document.unbind('mouseup', mouseup);
        };
      };
    };
  });

}).call(this);
