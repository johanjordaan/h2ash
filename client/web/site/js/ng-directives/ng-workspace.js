// Generated by CoffeeScript 1.6.3
(function() {
  define(['jquery', 'angular'], function($, angular) {
    return function($compile, $http) {
      return {
        restrict: 'E',
        transclude: true,
        controller: function($scope, $http, $compile, $element) {
          $scope.windows = [];
          this.add_window = function(window) {
            return $scope.windows.push(window);
          };
          this.add_window_from_url = function(url) {
            return $http.get(url).then(function(result) {
              return angular.element($element).append($compile(result.data)($scope));
            });
          };
        },
        link: function(scope, element, attrs) {
          scope.add_window = function(url) {
            $http.get(url).then(function(result) {
              return element.append($compile(result.data)(scope));
            });
          };
          return scope.add_error = function(message) {
            return scope.error_message = message;
          };
        },
        templateUrl: 'partials/workspace.html'
      };
    };
  });

}).call(this);
