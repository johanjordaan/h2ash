// Generated by CoffeeScript 1.6.3
(function() {
  define(['../services/renderers'], function(renderers) {
    var camera, clouds, earth, height, light, scene, width;
    width = 320;
    height = 240;
    scene = new THREE.Scene();
    camera = new THREE.PerspectiveCamera(45, width / height, 0.01, 1000);
    camera.position.z = 1.5;
    scene.add(new THREE.AmbientLight(0x333333));
    light = new THREE.DirectionalLight(0xffffff, 1);
    light.position.set(5, 3, 5);
    scene.add(light);
    earth = new THREE.Mesh(new THREE.SphereGeometry(0.5, 32, 32), new THREE.MeshPhongMaterial({
      map: THREE.ImageUtils.loadTexture('images/2_no_clouds_4k.jpg'),
      bumpScale: 0.005,
      specular: new THREE.Color('grey')
    }));
    clouds = new THREE.Mesh(new THREE.SphereGeometry(0.503, 32, 32), new THREE.MeshPhongMaterial({
      map: THREE.ImageUtils.loadTexture('images/fair_clouds_4k.png'),
      transparent: true
    }));
    scene.add(earth);
    scene.add(clouds);
    return function($scope, $timeout, renderers) {
      var renderer;
      $scope.speed = 0.001;
      renderer = renderers.create_renderer("planet", width, height, scene, camera, function() {
        earth.rotation.y += $scope.speed;
        return clouds.rotation.y += $scope.speed * 2;
      });
      return $scope.add_renderer_to = function(element) {
        return element.append(renderer.renderer.domElement);
      };
    };
  });

}).call(this);
